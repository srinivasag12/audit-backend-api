CREATE OR REPLACE PROCEDURE AUDIT_STAG_TEST.SEND_MAIL_MSC 
(
  P_TO IN VARCHAR2 
, P_FROM IN VARCHAR2 
, P_MESSAGE IN VARCHAR2 
, P_SMTP_HOST IN VARCHAR2 
, P_SMTP_PORT IN NUMBER 
) 
as  
l_mail_conn   UTL_SMTP.connection;
BEGIN
 l_mail_conn := UTL_SMTP.open_connection(p_smtp_host, P_SMTP_PORT);
  UTL_SMTP.helo(l_mail_conn, p_smtp_host);
  UTL_SMTP.mail(l_mail_conn, p_from);
  UTL_SMTP.rcpt(l_mail_conn, p_to);
  UTL_SMTP.data(l_mail_conn, p_message || UTL_TCP.crlf || UTL_TCP.crlf);
  UTL_SMTP.quit(l_mail_conn);  
END SEND_MAIL_MSC;
/
